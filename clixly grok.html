<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Clixly - Social Media</title>
  <style>
    body {
      background: linear-gradient(135deg, #3d004f, #a100c2);
      color: #ffffff;
      font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      overflow-x: hidden;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      padding: 15px;
      flex: 1;
      position: relative;
    }
    .header {
      position: sticky;
      top: 0;
      background: rgba(25, 10, 35, 0.95);
      backdrop-filter: blur(15px);
      padding: 15px;
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
      border-bottom: 2px solid rgba(161, 0, 194, 0.4);
    }
    .logo img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      transition: transform 0.5s ease-out, filter 0.5s ease-out;
      filter: brightness(1.3) drop-shadow(0 0 5px rgba(161, 0, 194, 0.5));
    }
    .logo img:hover {
      transform: scale(1.2);
      filter: brightness(1.6) drop-shadow(0 0 10px rgba(161, 0, 194, 0.7));
    }
    .auth, .feed, .profile {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(20px);
      padding: 20px;
      border-radius: 15px;
      margin: 15px 0;
      border: 1px solid rgba(161, 0, 194, 0.5);
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.4), inset 0 0 10px rgba(161, 0, 194, 0.3);
      position: relative;
      overflow: hidden;
      animation: fadeIn 0.6s ease-out forwards;
    }
    .auth::before, .feed::before, .profile::before {
      content: '';
      position: absolute;
      top: -30%;
      left: -30%;
      width: 160%;
      height: 160%;
      background: radial-gradient(circle, rgba(161, 0, 194, 0.15) 0%, transparent 70%);
      animation: pulseGlow 8s infinite ease-in-out;
      z-index: 0;
    }
    input {
      width: 100%;
      padding: 12px;
      margin: 8px 0;
      border: none;
      border-radius: 8px;
      background: rgba(255, 255, 255, 0.1);
      color: #ffffff;
      font-size: 1em;
      box-sizing: border-box;
      transition: background 0.3s ease, transform 0.3s ease;
    }
    input:focus {
      background: rgba(255, 255, 255, 0.18);
      transform: scale(1.02);
      outline: none;
    }
    button {
      width: 100%;
      padding: 12px;
      margin: 8px 0;
      border: none;
      border-radius: 8px;
      background: linear-gradient(45deg, #e6e6fa, #c3a0d9);
      color: #3d004f;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    button:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 15px rgba(161, 0, 194, 0.6);
    }
    button:active {
      transform: scale(0.98);
    }
    .post {
      margin-bottom: 20px;
      padding: 15px;
      background: rgba(161, 0, 194, 0.2);
      border-radius: 10px;
    }
    .post img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
    }
    .post-content { margin: 10px 0; }
    .post-actions button {
      background: none;
      border: none;
      color: #e0c0e0;
      margin-right: 10px;
      cursor: pointer;
      transition: color 0.3s ease;
    }
    .post-actions button:hover { color: #ffffff; }
    .profile-info { text-align: center; }
    .profile-info h3 { margin: 0 0 10px; }
    .profile-stats { display: flex; justify-content: space-around; margin: 10px 0; }
    .profile-stats div { text-align: center; }
    .comment-section {
      margin-top: 10px;
      display: none;
    }
    .comment-section textarea {
      width: 100%;
      margin: 5px 0;
      min-height: 50px;
    }
    .hidden { display: none; }
    .bottom-nav {
      position: fixed;
      bottom: 0;
      width: 100%;
      background: rgba(25, 10, 35, 0.95);
      backdrop-filter: blur(15px);
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      padding: 12px 0;
      z-index: 1000;
      box-shadow: 0 -4px 15px rgba(0, 0, 0, 0.5);
      gap: 8px;
    }
    .bottom-nav a {
      color: #e0c0e0;
      text-align: center;
      text-decoration: none;
      font-size: 0.9em;
      transition: color 0.3s ease, transform 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 4px;
      border-radius: 6px;
    }
    .bottom-nav a:hover {
      color: #ffffff;
      background: rgba(161, 0, 194, 0.1);
      transform: scale(1.1);
    }
    .bottom-nav i {
      display: block;
      margin-bottom: 4px;
      font-size: 1.1em;
    }
    @keyframes fadeIn {
      0% { opacity: 0; transform: translateY(10px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    @keyframes pulseGlow {
      0% { transform: scale(1); opacity: 0.6; }
      50% { transform: scale(1.3); opacity: 0.3; }
      100% { transform: scale(1); opacity: 0.6; }
    }
    @media (max-width: 600px) {
      .container { padding: 10px; }
      .auth, .feed, .profile { padding: 15px; margin: 10px 0; }
      .post img { height: 150px; }
      .bottom-nav a { font-size: 0.8em; }
      .bottom-nav i { font-size: 1em; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header" data-aos="fade-down" data-aos-easing="ease-out-quart">
      <div class="logo">
        <img src="http://clixly.rf.gd/wp-content/uploads/2025/06/cropped-ChatGPT-Image-Jun-10-2025-02_26_30-PM-Photoroom.png" alt="Clixly Logo" width="50">
      </div>
    </div>
    <div class="auth" id="auth">
      <h2>Sign In/Up</h2>
      <input type="email" id="email" placeholder="Email">
      <input type="password" id="password" placeholder="Password">
      <button onclick="signup()">Sign Up</button>
      <button onclick="login()">Login</button>
      <p id="auth-msg"></p>
    </div>
    <div class="feed hidden" id="feed">
      <h2>Feed</h2>
      <div id="posts"></div>
    </div>
    <div class="profile hidden" id="profile">
      <h2>Profile</h2>
      <div class="profile-info">
        <h3 id="user-name">Guest</h3>
        <img src="https://via.placeholder.com/100" alt="Profile Pic" style="border-radius: 50%; width: 100px;">
        <div class="profile-stats">
          <div><strong id="post-count">0</strong> Posts</div>
          <div><strong id="follower-count">0</strong> Followers</div>
          <div><strong id="following-count">0</strong> Following</div>
        </div>
      </div>
    </div>
    <div class="bottom-nav" data-aos="fade-up" data-aos-delay="300" data-aos-easing="ease-out-quart">
      <a href="#" onclick="showSection('feed')"><i class="fas fa-home"></i>Home</a>
      <a href="#" onclick="showSection('explore')"><i class="fas fa-compass"></i>Explore</a>
      <a href="#" onclick="showSection('upload')"><i class="fas fa-plus"></i>Add</a>
      <a href="#" onclick="showSection('messages')"><i class="fas fa-comment"></i>Messages</a>
      <a href="#" onclick="showSection('profile')"><i class="fas fa-user"></i>Profile</a>
    </div>
  </div>

  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
  <script type="module">
    // Firebase Setup
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import {
      getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword,
      onAuthStateChanged, signOut
    } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";
    import {
      getDatabase, ref, push, onValue, update
    } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDNnoWHDiOUZWMlw-mMdlnDovEDR74zFew",
      authDomain: "clixly-bc284.firebaseapp.com",
      projectId: "clixly-bc284",
      storageBucket: "clixly-bc284.appspot.com",
      messagingSenderId: "33343695899",
      appId: "1:33343695899:web:25b8f943e077dfb1b85cbe",
      databaseURL: "https://clixly-bc284-default-rtdb.firebaseio.com"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getDatabase(app);

    const authDiv = document.getElementById("auth");
    const feedDiv = document.getElementById("feed");
    const profileDiv = document.getElementById("profile");
    const authMsg = document.getElementById("auth-msg");
    const postsDiv = document.getElementById("posts");
    const userName = document.getElementById("user-name");
    const postCount = document.getElementById("post-count");
    const followerCount = document.getElementById("follower-count");
    const followingCount = document.getElementById("following-count");
    const postsRef = ref(db, "posts");

    onAuthStateChanged(auth, (user) => {
      if (user) {
        authDiv.classList.add("hidden");
        feedDiv.classList.remove("hidden");
        profileDiv.classList.remove("hidden");
        userName.textContent = user.email.split('@')[0] || "User";
        loadPosts();
        updateProfileStats(user.uid);
      } else {
        authDiv.classList.remove("hidden");
        feedDiv.classList.add("hidden");
        profileDiv.classList.add("hidden");
      }
    });

    window.signup = () => {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      createUserWithEmailAndPassword(auth, email, password)
        .then(() => authMsg.innerText = "Signed up successfully!")
        .catch((error) => authMsg.innerText = "Signup error: " + error.message);
    };

    window.login = () => {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      signInWithEmailAndPassword(auth, email, password)
        .then(() => authMsg.innerText = "Logged in successfully!")
        .catch((error) => authMsg.innerText = "Login error: " + error.message);
    };

    window.logout = () => {
      signOut(auth).then(() => authMsg.innerText = "Logged out!");
    };

    function loadPosts() {
      postsDiv.innerHTML = '';
      onValue(postsRef, (snapshot) => {
        snapshot.forEach((childSnapshot) => {
          const post = childSnapshot.val();
          displayPost(post, childSnapshot.key);
        });
      }, (error) => {
        console.error("Error loading posts:", error);
      });
    }

    function displayPost(post, postId) {
      const postDiv = document.createElement("div");
      postDiv.classList.add("post");
      postDiv.innerHTML = `
        <img src="${post.image || 'https://via.placeholder.com/300x200'}">
        <div class="post-content">${post.content}</div>
        <div class="post-actions">
          <button onclick="likePost('${postId}')"><i class="fas fa-heart"></i> (${post.likes || 0})</button>
          <button onclick="toggleComments('${postId}')"><i class="fas fa-comment"></i> (${post.comments ? Object.keys(post.comments || {}).length : 0})</button>
        </div>
        <div class="comment-section" id="comments-${postId}" style="display: none;">
          <textarea placeholder="Add a comment..."></textarea>
          <button onclick="addComment('${postId}')">Post</button>
          <div id="comment-list-${postId}">${Object.entries(post.comments || {}).map(([id, comment]) => `<p>${comment}</p>`).join('')}</div>
        </div>
      `;
      postsDiv.appendChild(postDiv);
    }

    function likePost(postId) {
      const postRef = ref(db, `posts/${postId}`);
      get(postRef).then((snapshot) => {
        const post = snapshot.val();
        update(postRef, { likes: (post.likes || 0) + 1 })
          .catch((error) => console.error("Like error:", error));
      }).catch((error) => console.error("Fetch error:", error));
    }

    function toggleComments(postId) {
      const commentSection = document.getElementById(`comments-${postId}`);
      commentSection.style.display = commentSection.style.display === 'none' ? 'block' : 'none';
    }

    function addComment(postId) {
      const commentText = document.querySelector(`#comments-${postId} textarea`).value;
      if (commentText) {
        const commentRef = ref(db, `posts/${postId}/comments/${Date.now()}`);
        update(commentRef, commentText)
          .then(() => document.querySelector(`#comments-${postId} textarea`).value = '')
          .catch((error) => console.error("Comment error:", error));
      }
    }

    function updateProfileStats(uid) {
      // Mock stats (expand with real data)
      postCount.textContent = "5";
      followerCount.textContent = "50";
      followingCount.textContent = "30";
    }

    function showSection(section) {
      const sections = { feed: feedDiv, profile: profileDiv };
      Object.values(sections).forEach(s => s.classList.add('hidden'));
      sections[section]?.classList.remove('hidden');
    }

    // Initial post (user can add more via UI later)
    const initialPost = {
      id: Date.now().toString(),
      content: "Welcome to Clixly! #SocialMedia",
      image: "https://via.placeholder.com/300x200",
      likes: 0,
      comments: {}
    };
    push(postsRef, initialPost).catch((error) => console.error("Initial post error:", error));
  </script>
  <script>
    AOS.init({ duration: 1200, once: true });
  </script>
</body>
</html>